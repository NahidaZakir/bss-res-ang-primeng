<div class="">
<div class="dashboard-container">
  <div class="outlet-container">
    <div class="flex justify-between items-center mb-[20px] h-full">
      <div>
        <h1 class="heading-font heading-font-size mb-[10px]">All Employee</h1>
      </div>

      <div>
        <p-button
          label="ADD EMPLOYEE"
          variant="outlined"
          severity="danger"
          (click)="onAddEmployee()"
          class="addbtn"
        />
      </div>
    </div>

    @if (isLoading){
    <!--original table-->
    <div class="card h-max bg-blue-200">
      <p-table
        [value]="allemployees"
        [tableStyle]="{ 'min-width': '40rem' }"
        [lazy]="true"
        (onLazyLoad)="onNextPage($event)"
        [paginator]="true"
        [rows]="10"
        [totalRecords]="totalRecord"
        [showCurrentPageReport]="true"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords}"
        [rowsPerPageOptions]="[10, 25, 50, 100]"
      >
        <ng-template #header>
          <tr>
            <th class="text-red">Image</th>
            <th class="text-red">Name</th>
            <th></th>
            <th class="text-red">Email</th>
            <th class="text-red">Designation</th>
            <th class="text-red">Join Date</th>
            <th class="text-red">Phone</th>
            <th class="text-red">Action</th>
          </tr>
        </ng-template>

        <ng-template #body let-employee>
          <tr>
            <td>
              <div class="flex justify-start items-center">
                <img
                  [src]="
                    'https://restaurantapi.bssoln.com/images/user/' +
                    employee.user.existingImage
                  "
                  alt=""
                  class="w-[40px] h-[40px] rounded-full"
                />
              </div>
            </td>
            <td>
              <span class="ellipsis ellipsis-width">{{
                employee.user.fullName
              }}</span>
            </td>

            <td>
              <div
                class="w-[20px] h-[20px] rounded-full flex justify-center items-center starbg"
                (click)="isStarClicked = !isStarClicked"
                [ngClass]="{ starbgclicked: isStarClicked }"
              >
                <i
                  class="pi pi-star-fill"
                  style="font-size: 13px; color: white"
                ></i>
              </div>
            </td>
            <td>
              <span class="ellipsis ellipsis-width">{{
                employee.user.email
              }}</span>
            </td>
            <td>
              <span class="ellipsis ellipsis-width">{{
                employee.designation
              }}</span>
            </td>
            <td>
              <span class="ellipsis ellipsis-width">{{
                employee.joinDate
              }}</span>
            </td>
            <td>
              <span class="ellipsis ellipsis-width">{{
                employee.user.phoneNumber
              }}</span>
            </td>
            <td>
              <div class="flex justify-between">
                <i
                  (click)="onUpdate(employee.id)"
                  class="pi pi-user-edit text-green-300 px-[10px] cursor-pointer"
                  style="font-size: 20px"
                ></i>
                <i
                  (click)="onDelete(employee.id)"
                  class="pi pi-trash text-red-300 pr-[10px] cursor-pointer"
                  style="font-size: 20px"
                ></i>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
    } @if (!isLoading){

    <div class="fixed inset-0 flex items-center justify-center">
      <app-spinner></app-spinner>
    </div>
    }
  </div>
</div>
</div>
