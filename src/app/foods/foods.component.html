
<div class="dashboard-container">
<div class="outlet-container">
  <div class="flex justify-between items-center mb-[20px] h-full">
    <div>
      <h1 class="heading-font heading-font-size mb-[10px]">All Food List</h1>
    </div>

    <div>
      <p-button
        label="ADD FOOD"
        (click)="onAddFood()"
        variant="outlined"
        severity="danger"
        class="addbtn"
      />
    </div>
  </div>


  @if (isLoading){
  <!--original table-->
  <div class="card ">
    <p-table
      [value]="allfood"
      [tableStyle]="{ 'min-width': '40rem' }"
      [lazy]="true"
      (onLazyLoad)="onNextPage($event)"
      [paginator]="true"
      [rows]="10"
      [totalRecords]="totalRecord"
      [showCurrentPageReport]="true"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords}"
      [rowsPerPageOptions]="[10, 25, 50, 100]"
    >
      <ng-template #header>
        <tr>
          <th class="text-red">Image</th>
          <th class="text-red">Name</th>
          <th class="text-red">Price</th>
          <th class="text-red"><span class="ellipsis ellipsis-width">Discount Type</span></th>
          <th class="text-red"><span class="ellipsis ellipsis-width">Discount</span></th>
          <th class="text-red"><span class="ellipsis ellipsis-width">Discount Price</span></th>
          <th class="text-red">Action</th>
        </tr>
      </ng-template>

      <ng-template #body let-food>
        <tr>
          <td>
            <div class="flex justify-start items-center ">
              <img
                [src]="
                  'https://restaurantapi.bssoln.com/images/food/' + food.image
                "
                class="w-[40px] h-[40px] rounded-full"
              />
            </div>
          </td>
          <td><span class="ellipsis ellipsis-name-width ">{{ food.name }}</span></td>
          <td>{{ food.price }}</td>
          <td><span class="ellipsis ellipsis-width">{{ food.discountType }}</span></td>
          <td>{{ food.discount }}</td>
          <td>{{ food.discountPrice }}</td>
          <td>
            <div class="flex">
              <i
                (click)="onEditFood()"
                class="pi pi-pen-to-square text-green-300 mr-3 cursor-pointer"
                style="font-size: 20px"
              ></i>
              <i
                (click)="onDeleteFood(food.id)"
                class="pi pi-trash text-red-300 cursor-pointer"
                style="font-size: 20px"
              ></i>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  } 
  
  <!-- @if (!isLoading){
  <div class="fixed inset-0 flex items-center justify-center">
    <app-spinner></app-spinner>
  </div>
  } -->
</div>

</div>
